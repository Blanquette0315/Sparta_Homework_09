# 숫자 야구 게임 만들기
**[게임 소개]**
- 
UnrealEngine ListenServer를 이용해 만든 숫자 야구 게임입니다.

게임의 규칙은 중복되지 않는 3자리의 숫자를 랜덤으로 생성해 2명의 플레이어가 번갈아가며 정답을 맞추기 맞추는 방식으로 진행됩니다.

정답을 입력했을 때, 결과가 다음과 같이 총 3가지로 구분됩니다. 
| 결과        | 의미                   |
|:--------------:|:---------------------------:|
| **스트라이크**       | **제시한 숫자가 정답에 포함되어 있고 위치까지 정확한 경우**           |
| **볼**       | **숫자가 정답에 포함되어 있으나 위치가 다른 경우**           |
| **아웃**       | **제시한 숫자 중 정답에 없는 숫자가 있을 경우**           |

각 플레이어는 총 3번의 시도 기회가 주어지며, 3번 안에 정답을 맞추지 못하면, 승리하지 못 합니다.

플레이어는 각 시도 후 받은 스트라이크, 볼, 아웃의 정보를 바탕으로 정답(숫자)을 추론하며 게임을 진행합니다.

이때, 이전에 받은 피드백을 잘 이용해 다음 추측에 반영하는 것이 핵심인 게임입니다.

번갈아 가며 기회가 주어지기 때문에 상대방의 시도 결과를 참고해 더 빠르게 정답을 맞추는 것이 중요합니다.

**[플레이 영상]**
-
[![Watch the video](https://img.youtube.com/vi/YB-x8VBz6iA/0.jpg)](https://www.youtube.com/watch?v=YB-x8VBz6iA)

[https://www.youtube.com/watch?v=YB-x8VBz6iA]

**[주요 기능 구현]**
-
**1. 채팅 기능 구현**
    
- ListenServer를 이용해 양쪽 플레이어가 대화를 할 수 있도록 채팅 기능을 추가했습니다.
- 추후에 설명할 System Message도 출력을 해주어야하기 때문에 채팅UI와 게임공지UI을 따로 구현해주었습니다.

**2. 명령어 입력**

  - '/'문자를 입력하고 뒤에 3자리 숫자를 입력해주면, 정답 명령어 사용이 가능합니다.
  - 예를 들어 "/123"을 입력하면 됩니다.
  - 만약, 명령어를 잘못 입력했을 시 System의 ErrorMessage가 게임공지UI에 출력됩니다.
  - 위와 같은 ErrorMessage는 다른 플레이어에게 전달되지 않고, 채팅을 보낸 쪽 UI에만 출력됩니다.
  - 또한 이렇게 잘못 입력했을 경우 플레이어의 시도 횟수를 차감하지 않습니다.

**3. 난수 생성**

- 각 자리수에 중복이 없는 3자리 수가 랜덤하게 생성되고, 처음에는 UI에 "???"로 보여지게 됩니다.
- 추후에 게임이 끝나면, 정답을 공개해주도록 구현했습니다.

**4. 시도 횟수 관리**

 - 플레이어가 명령어를 사용해 정답을 입력했을 경우 시도 횟수를 1 차감해 줍니다.
 - 만약, 플레이어의 남은 시도 횟수가 0일 경우, 더 이상 정답을 입력할 수 없습니다.
 - 단, 채팅 메세지는 여전히 보낼 수 있습니다.
 - 시도 횟수가 차감되면, 게임 공지 UI와 게임 UI(LeftCount)에 표시됩니다.

**5. 판정 로직**

- 플레이어가 정답을 입력하면, [게임 소개에 있는 표]와 같이 판정에 따른 결과를 출력해줍니다.
- System Message로 게임 공지 UI에도 출력되고, 게임 UI로도 출력됩니다.
- 해당 S,B,O UI는 실제 야구 전광판과 비슷한 느낌을 내고 싶었습니다.

**6. 승리, 무승부**

- 판정시 3개의 숫자가 모두 스트라이크라면, 해당 플레이어가 승리하게 됩니다.
- 양쪽 플레이어의 시도 횟수가 모두 0 이고, 아직 정답을 맞추지 못한 상태라면, 무승부 처리가 됩니다.
- 승리와 무승부 판정이 나면, **타이머는 정지하고**, **중앙에는 정답이 공개되고**, **상단에는 승리한 플레이어가 출력**됩니다.
- 또한, 승리한 플레이어의 누적 승리 횟수가 1증가 합니다.

**7. 타이머 & 턴제**

- 타이머는 60초로 제한 시간을 줍니다.
- 만약 제한시간이 0이 되면, 상대방 차례로 넘어가게 됩니다.
- 턴은 항상 Host가 먼저 시작하며, Host 차례 -> Geust 차례 -> Host 차례로 흘러가게 됩니다.
- 상대방의 차례일 때는 명령어 입력이 불가능하게 하고, 명령어 입력을 할 경우 게임 공지 UI에 ErrorMessage가 출력되게 됩니다.
- 해당 ErrorMessage도 상대방에게는 보이지 않는 Message입니다.
- 만약, 현재 내 차례가 아니더라도 채팅 Message는 보낼 수 있습니다.

**8. 게임 스코어 보드**

- 플레이어의 누적 승리 횟수를 출력해주고, 각 정보들을 UI로 만들어 시각화 해주었습니다.

**ErrorMessage 종류**

- "잘못된 명령어 입니다."
- "플레이어의 남은 횟수가 부족합니다."
- "플레이어의 차례가 아닙니다."
